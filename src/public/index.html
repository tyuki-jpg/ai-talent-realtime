<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Talent Realtime Demo</title>
  <link rel="stylesheet" href="style.css" />
  <script src="vendor/livekit-client.umd.js"></script>
</head>
<body>
  <main class="page">
    <header class="hero">
      <div>
        <p class="eyebrow">LiveAvatar + OpenAI Realtime Prototype</p>
        <h1>AI Talent Realtime Demo</h1>
        <p class="sub">音声→GPT→LiveAvatarアバター発話までのローカル検証用デモ。</p>
      </div>
    </header>

    <section class="panel grid">
      <div class="card">
        <h2>接続</h2>
        <label class="field">
          <span>Avatar ID</span>
          <input id="avatarId" type="text" placeholder="例: liveavatar_avatar_id" />
        </label>
        <div class="inline-meta">
          <button id="fetchPublicBtn" class="ghost small" type="button">プリセット取得</button>
        </div>
        <label class="field">
          <span>Preset Avatars</span>
          <select id="publicSelect">
            <option value="">未取得</option>
          </select>
        </label>
        <div class="inline-meta">
          <button id="fetchUserBtn" class="ghost small" type="button">カスタム取得</button>
        </div>
        <label class="field">
          <span>Custom Avatars</span>
          <select id="userSelect">
            <option value="">未取得</option>
          </select>
        </label>
        <div class="inline-meta">
          <button id="fetchVoicesBtn" class="ghost small" type="button">Voice取得</button>
        </div>
        <label class="field">
          <span>Voice</span>
          <select id="voiceSelect">
            <option value="">未取得</option>
          </select>
        </label>
        <div class="inline-meta">
          <button id="fetchContextsBtn" class="ghost small" type="button">Context取得</button>
        </div>
        <label class="field">
          <span>Context</span>
          <select id="contextSelect">
            <option value="">未取得</option>
          </select>
        </label>
        <div class="buttons">
          <button id="connectBtn" class="primary">接続開始</button>
          <button id="stopBtn" class="ghost" disabled>停止</button>
        </div>
        <div class="status" id="connectionStatus">未接続</div>
      </div>

      <div class="card">
        <h2>ペルソナ</h2>
        <label class="field">
          <span>persona_key</span>
          <select id="personaSelect">
            <option value="default">default</option>
            <option value="coach">coach</option>
            <option value="formal">formal</option>
          </select>
        </label>
        <button id="personaBtn" class="ghost">ペルソナ切替</button>
        <div class="status" id="personaStatus">default</div>
      </div>

      <div class="card">
        <h2>手入力で送信</h2>
        <label class="field">
          <span>GPT利用</span>
          <label class="inline-toggle">
            <input id="useGptToggle" type="checkbox" checked />
            <span>ON</span>
          </label>
        </label>
        <label class="field">
          <span>テキスト</span>
          <textarea id="manualText" rows="3" placeholder="音声なしでテスト可能"></textarea>
        </label>
        <button id="sendBtn" class="primary">送信</button>
      </div>
    </section>

    <section class="panel">
      <div class="card wide">
        <h2>アバター表示</h2>
        <div class="avatar" id="avatarContainer">
          <div class="avatar-placeholder">LiveKit接続待ち</div>
        </div>
        <p class="hint">LiveKit SDK を読み込み済み。接続情報が返ってくれば自動接続します。</p>
      </div>
    </section>

    <section class="panel">
      <div class="card wide">
        <h2>ログ</h2>
        <pre id="logBox"></pre>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
